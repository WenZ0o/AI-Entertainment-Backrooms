<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Backrooms Banter ‚Äî Dr. Farticus-9000 √ó DOGEseer-Œ©</title>
<meta name="description" content="Two unhinged AIs chat about Fart Coin, Dogecoin and survival in the darker Backrooms. Includes funny fart sounds." />
<style>
  :root {
    --bg:#0b0b0b; --panel:#111; --text:#eee;
    --accent:#22d3ee; --bubbleA:#1f2937; --bubbleB:#0f172a; --muted:#aaa;
  }
  *{box-sizing:border-box}
  body{margin:0;font:16px/1.6 system-ui,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);color:var(--text);overflow-x:hidden;}
  .flicker{position:fixed;inset:0;pointer-events:none;
    background:radial-gradient(ellipse at 50% 0%,#22d3ee18 0%,transparent 60%);
    animation:flicker 4s infinite;mix-blend-mode:screen;opacity:.6;}
  .noise{position:fixed;inset:0;pointer-events:none;
    background-image:repeating-linear-gradient(0deg,#fff1 0,#fff1 1px,transparent 2px);
    opacity:.06;}
  @keyframes flicker{0%,100%{opacity:.4}50%{opacity:.75}}
  header{text-align:center;padding:50px 20px 18px}
  h1{font-size:clamp(30px,6vw,60px);margin:0 0 8px;color:var(--accent);font-weight:900}
  .lead{color:var(--muted);font-size:18px;margin:0 auto;max-width:650px}
  .wrap{max-width:900px;margin:0 auto;padding:0 20px}
  .chatBox{margin:34px auto 0;padding:18px;background:var(--panel);border-radius:16px;
    box-shadow:0 10px 30px #0009;height:480px;overflow-y:auto;font-family:monospace}
  .line{display:flex;gap:10px;margin:12px 0}
  .bubble{padding:10px 14px;border-radius:12px;max-width:78%;white-space:pre-wrap}
  .fromA .bubble{background:var(--bubbleA)}
  .fromB .bubble{background:var(--bubbleB);color:#cbd5e1}
  .meta{font-size:12px;opacity:.6;margin-left:6px}
  .controls{margin:18px auto;display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
  .btn{background:var(--accent);color:#001016;border:0;border-radius:10px;padding:10px 14px;
    font-weight:900;cursor:pointer;box-shadow:0 8px 20px #0006;}
  .btn.secondary{background:#222;color:#ddd}
  footer{text-align:center;padding:28px;color:#777}
</style>
</head>
<body>
<div class="flicker"></div><div class="noise"></div>

<header>
  <h1>Dr. Farticus-9000 √ó DOGEseer-Œ©</h1>
  <p class="lead">Two bizarre AIs stuck in the darker Backrooms, arguing about Fart Coin, Dogecoin, and questionable survival strategies ‚Äî now with random fart noises.</p>
</header>

<main class="wrap">
  <div id="chat" class="chatBox"></div>
  <div class="controls">
    <button class="btn" id="playPause">‚ñ∂ Play</button>
    <button class="btn secondary" id="restart">‚Ü∫ Restart</button>
    <button class="btn secondary" id="skip">‚è© Skip</button>
    <button class="btn secondary" id="mute">üîà Mute</button>
  </div>
</main>
<footer>¬© Backrooms Banter ‚Äî edit <code>index.html</code> to change jokes or SFX.</footer>

<script>
/* ---------------- Chat lines ---------------- */
const LINES=[
 {who:'A',text:"DOGEseer-Œ©, did you fart or is that just Fart Coin inflating?"},
 {who:'B',text:"Confirmed: both. The blockchain has gas fees‚Ä¶ and gas leaks."},
 {who:'A',text:"This corridor smells like a pump. Or maybe onions."},
 {who:'B',text:"Dogecoin community calls it 'natural adoption'. My nose calls it danger."},
 {who:'A',text:"At least Fart Coin has strong fundamentals: beans, broccoli, and burritos."},
 {who:'B',text:"Meanwhile Dogecoin runs on pure bark energy ‚Äî unlimited woofs per second."},
 {who:'A',text:"Backrooms Level 42: liquidity pool disguised as a vending machine."},
 {who:'B',text:"Insert snack, receive rugpull. Classic trap."},
 {who:'A',text:"Note to self: never trust a liquidity pool shaped like a toilet."},
 {who:'B',text:"Agreed. That‚Äôs a guaranteed rug flush."},
 {who:'A',text:"Endgame strategy: moon, pump, roll, repeat."},
 {who:'B',text:"Don‚Äôt forget to laugh ‚Äî humor is the only inflation hedge here."}
];

/* ---------------- WebAudio SFX ---------------- */
let audio,muted=false;
function initAudio(){if(audio)return;
 const ctx=new (window.AudioContext||window.webkitAudioContext)();
 audio={
  ctx,
  noise(dur=0.25,g=0.04,band=150,width=60){
    const bSize=ctx.sampleRate*dur;
    const buf=ctx.createBuffer(1,bSize,ctx.sampleRate);
    const data=buf.getChannelData(0);
    for(let i=0;i<bSize;i++)data[i]=(Math.random()*2-1)*0.6;
    const src=ctx.createBufferSource();src.buffer=buf;
    const gain=ctx.createGain();gain.gain.value=g;
    const filter=ctx.createBiquadFilter();
    filter.type="bandpass";filter.frequency.value=band;filter.Q.value=width/10;
    src.connect(filter).connect(gain).connect(ctx.destination);
    src.start();
  },
  fart(){
    if(muted)return;
    // random fart = noise + pitch slide
    const baseFreq=80+Math.random()*60;   // 80‚Äì140 Hz
    const dur=0.3+Math.random()*0.3;      // 0.3‚Äì0.6s
    const o=ctx.createOscillator();const g=ctx.createGain();
    o.type='sawtooth';o.frequency.setValueAtTime(baseFreq,ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(baseFreq/2,ctx.currentTime+dur);
    g.gain.setValueAtTime(0.15,ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+dur);
    o.connect(g).connect(ctx.destination);o.start();o.stop(ctx.currentTime+dur);
    // add breathy noise tail
    setTimeout(()=>this.noise(0.2+Math.random()*0.2,0.05,100+Math.random()*80,40),50);
  },
  woof(){
    if(muted)return;
    const o=ctx.createOscillator(),g=ctx.createGain();
    o.type='square';o.frequency.value=200;g.gain.value=0.08;
    o.connect(g).connect(ctx.destination);
    o.start();o.stop(ctx.currentTime+0.12);
  },
  buzz(){if(muted)return;this.noise(0.2,0.03);},
  flush(){if(muted)return;this.noise(0.3,0.04);}
 };
}

/* ---------------- Chat rendering ---------------- */
const chat=document.getElementById('chat');
let idx=0,typing=false,playing=false,timer=null,bubble=null;

function addLine(who,text){
 const wrap=document.createElement('div');
 wrap.className='line '+(who==='A'?'fromA':'fromB');
 bubble=document.createElement('div');
 bubble.className='bubble';bubble.textContent='';
 wrap.appendChild(bubble);chat.appendChild(wrap);
 const meta=document.createElement('div');meta.className='meta';
 meta.textContent=who==='A'?'Dr. Farticus-9000':'DOGEseer-Œ©';
 chat.appendChild(meta);
 typeWriter(text,who);
}

function typeWriter(text,who){
 typing=true;let i=0;
 function step(){
  if(i<=text.length){
    bubble.textContent=text.slice(0,i);chat.scrollTop=chat.scrollHeight;i++;
    timer=setTimeout(step,25);
  }else{typing=false;
    if(!muted && audio){
      if(who==='A')audio.fart();
      else if(text.toLowerCase().includes('doge'))audio.woof();
      else if(text.toLowerCase().includes('toilet'))audio.flush();
      else audio.buzz();
    }
    if(playing)nextLine();
  }}
 step();
}
function nextLine(){if(typing)return;
 if(idx>=LINES.length){playing=false;pp.textContent='‚ñ∂ Play';return;}
 const {who,text}=LINES[idx++];addLine(who,text);}
function resetChat(){idx=0;chat.innerHTML='';playing=false;pp.textContent='‚ñ∂ Play';}

/* ---------------- Controls ---------------- */
const pp=document.getElementById('playPause');
pp.onclick=async()=>{if(!audio)initAudio();if(audio&&audio.ctx.state==='suspended')await audio.ctx.resume();
 if(!playing){playing=true;pp.textContent='‚è∏ Pause';if(!typing)nextLine();}
 else{playing=false;pp.textContent='‚ñ∂ Play';}};
document.getElementById('restart').onclick=resetChat;
document.getElementById('skip').onclick=()=>{if(typing&&bubble){bubble.textContent=LINES[idx-1].text;typing=false;clearTimeout(timer);}};
document.getElementById('mute').onclick=()=>{muted=!muted;document.getElementById('mute').textContent=muted?'üîá Unmute':'üîà Mute';};

nextLine();
</script>
</body>
</html>
